{% extends 'base.html' %} {% block title %}New Assessment - {{ system.name }}{% endblock %} {% block breadcrumb %}
<li>
  <a href="{{ url_for('main.view_system', system_id=system.id) }}" class="text-gray-400 hover:text-purple-300">{{ system.name }}</a>
  <svg class="w-3 h-3 mx-2 fill-current text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
    <path d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"></path>
  </svg>
</li>
<li>
  <span class="text-purple-400">New Assessment</span>
</li>
{% endblock %} {% block content %}
<div class="container mx-auto">
  <div class="dark-card rounded shadow p-6">
    <h1 class="text-2xl font-bold mb-6">Assess System: {{ system.name }}</h1>

    <p class="mb-6 text-gray-400">This assessment will evaluate the maturity of your system across five key dimensions: Security, Financial Viability, Operational Performance, Governance & Compliance, and Technical Debt.</p>

    <form method="POST" action="{{ url_for('main.assess_system', system_id=system.id) }}">
      {{ form.hidden_tag() }}

      <!-- Security Section -->
      <div class="border border-gray-700 rounded p-4 mb-6">
        <h2 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-shield-alt text-purple-400 mr-2"></i> Security</h2>

        <div class="space-y-4">
          <div>
            <label class="block text-gray-300 font-medium mb-2">{{ form.patch_management.label }}</label>
            <div class="grid grid-cols-1 md:grid-cols-5 gap-2">
              {% for option in form.patch_management %}
              <div class="flex items-center">
                {{ option }}
                <label for="{{ option.id }}" class="ml-2 text-sm">{{ option.label.text }}</label>
              </div>
              {% endfor %}
            </div>
          </div>

          <div>
            <label class="block text-gray-300 font-medium mb-2">{{ form.authentication.label }}</label>
            <div class="grid grid-cols-1 md:grid-cols-5 gap-2">
              {% for option in form.authentication %}
              <div class="flex items-center">
                {{ option }}
                <label for="{{ option.id }}" class="ml-2 text-sm">{{ option.label.text }}</label>
              </div>
              {% endfor %}
            </div>
          </div>

          <div>
            <label class="block text-gray-300 font-medium mb-2">{{ form.access_control.label }}</label>
            <div class="grid grid-cols-1 md:grid-cols-5 gap-2">
              {% for option in form.access_control %}
              <div class="flex items-center">
                {{ option }}
                <label for="{{ option.id }}" class="ml-2 text-sm">{{ option.label.text }}</label>
              </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>

      <!-- Financial Viability Section -->
      <div class="border border-gray-700 rounded p-4 mb-6">
        <h2 class="text-xl font-semibold mb-4 flex items-center"><i class="fas fa-dollar-sign text-purple-400 mr-2"></i> Financial Viability</h2>

        <div class="space-y-4">
          <div>
            <label class="block text-gray-300 font-medium mb-2">{{ form.maintenance_cost.label }}</label>
            <div class="grid grid-cols-1 md:grid-cols-5 gap-2">
              {% for option in form.maintenance_cost %}
              <div class="flex items-center">
                {{ option }}
                <label for="{{ option.id }}" class="ml-2 text-sm">{{ option.label.text }}</label>
              </div>
              {% endfor %}
            </div>
          </div>

          <div>
            <label class="block text-gray-300 font-medium mb-2">{{ form.roi.label }}</label>
            <div class="grid grid-cols-1 md:grid-cols-5 gap-2">
              {% for option in form.roi %}
              <div class="flex items-center">
                {{ option }}
                <label for="{{ option.id }}" class="ml-2 text-sm">{{ option.label.text }}</label>
              </div>
              {% endfor %}
            </div>
          </div>

          <div>
            <label class="block text-gray-300 font-medium mb-2">{{ form.replacement_cost.label }}</label>
            <div class="grid grid-cols-1 md:grid-cols-5 gap-2">
              {% for option in form.replacement_cost %}
              <div class="flex items-center">
                {{ option }}
                <label for="{{ option.id }}" class="ml-2 text-sm">{{ option.label.text }}</label>
              </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="mt-6">
        <button type="submit" class="btn-purple py-2 px-6 rounded shadow-md"><i class="fas fa-save mr-2"></i> Save Assessment</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
